import{d as R,i as T,j as u,f as w,b as a,e as i,a as l,w as o,r as n,t as g,F as y,m as B,o as r,c as C}from"./index-CJm6Rrhr.js";const $={class:"d-flex flex-row"},z={style:{"overflow-y":"auto",height:"100%"}},D=["href"],M=R({__name:"MailFittingView",props:{thread_id:{}},setup(U){const c=U,{axios:F}=T(),d=u(0),m=u(!1),p=u(""),_=u(""),b=u();async function I(V){m.value=!0;const e=await F.value.post(`/mails/fitting_by_ai/${V}`,{restriction:p.value,resume:_.value}).then(s=>s).catch(s=>s).finally(()=>m.value=!1);b.value=e.data.result}return(V,e)=>{const s=n("v-chip"),f=n("v-textarea"),k=n("v-btn"),x=n("v-tooltip"),N=n("v-tab"),j=n("v-tabs"),A=n("v-tabs-window-item"),J=n("v-tabs-window"),L=n("v-card");return r(),w("div",null,[e[7]||(e[7]=a("label",null,"Thread",-1)),e[8]||(e[8]=i()),l(s,{size:"small"},{default:o(()=>[i(g(c.thread_id),1)]),_:1}),l(f,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),label:"Restriction",rows:"5"},null,8,["modelValue"]),l(f,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=t=>_.value=t),label:"Resume",rows:"15"},null,8,["modelValue"]),l(k,{onClick:e[2]||(e[2]=t=>I(c.thread_id)),"prepend-icon":"mdi-brain",disabled:m.value},{default:o(()=>e[5]||(e[5]=[i("AI Invoke")])),_:1},8,["disabled"]),e[9]||(e[9]=a("br",null,null,-1)),e[10]||(e[10]=a("br",null,null,-1)),e[11]||(e[11]=a("hr",null,null,-1)),l(L,null,{default:o(()=>[l(x,{title:"Jobs"}),a("div",$,[l(j,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),direction:"vertical"},{default:o(()=>[(r(!0),w(y,null,B(b.value,(t,v)=>(r(),C(N,{"prepend-icon":"mdi-briefcase",value:v},{default:o(()=>[i("Job "+g(v+1),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),l(J,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),class:"flex-grow-1"},{default:o(()=>[(r(!0),w(y,null,B(b.value,(t,v)=>(r(),C(A,{value:v},{default:o(()=>[a("div",z,[l(k,null,{default:o(()=>[a("a",{href:t.link,target:"_blank"},"Link",8,D),l(x,{activator:"parent",location:"bottom"},{default:o(()=>e[6]||(e[6]=[i("Open job in another tab")])),_:1})]),_:2},1024),l(f,{value:t.response,rows:"15"},null,8,["value"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])]),_:1})])}}});export{M as default};
