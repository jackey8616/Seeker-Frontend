import{_ as D}from"./ConversationLogListView.vue_vue_type_script_setup_true_lang-lzyDrDLB.js";import{d as E,u as M,g as h,h as F,i as L,c as k,f as a,w as o,r as c,j as y,b as e,k as Q,t as s,F as R,l as U,e as p,m as z,o as _,n as I}from"./index-D_wVC_bv.js";import"./ChatLogDetail.vue_vue_type_script_setup_true_lang-0FoGGUuy.js";const S={class:"text-h5"},W={class:"text-3xl font-bold text-white"},G={class:"d-flex justify-space-between py-1"},H={class:"text-medium-emphasis"},J={class:"d-flex justify-space-between py-1"},K={class:"text-green-darken-3 font-weight-medium"},O={class:"text-medium-emphasis"},P={class:"d-flex justify-space-between py-1"},X={class:"text-green-darken-3 font-weight-medium"},Y={class:"text-medium-emphasis"},ne=E({__name:"UserView",setup(Z){const V=L("apiClient"),B=M(),m=h(null),i=h(null),w=h(null);function T(){const l=()=>Math.floor(256*Math.random());return`rgb(${l()}, ${l()}, ${l()})`}function $(l,t){const d=l/t*100;return d>50?"green-darken-3":d>20?"yellow-darken-3":"red-darken-3"}function A(l,t){const d=l/t*100;return d>50?"text-green-darken-3":d>20?"text-yellow-darken-3":"text-red-darken-3"}return F(async()=>{const{data:l}=await V.client.get("/users/info").then(({data:t})=>t);m.value=l.userinfo,i.value=l.userinfo.execution_count,w.value=l.userinfo.execution_count.remaining_quotas}),(l,t)=>{const d=c("v-img"),C=c("v-avatar"),f=c("v-col"),x=c("v-row"),g=c("v-progress-linear"),b=c("v-card-text"),j=c("v-card");return _(),k("div",null,[a(x,null,{default:o(()=>[a(f,{cols:"12"},{default:o(()=>{var r,n;return[(r=m.value)!=null&&r.avatar_url?(_(),y(C,{key:0},{default:o(()=>{var u,v;return[(u=m.value)!=null&&u.avatar_url?(_(),y(d,{key:0,src:(v=m.value)==null?void 0:v.avatar_url},null,8,["src"])):Q("",!0)]}),_:1})):(_(),y(C,{key:1,color:T()},{default:o(()=>{var u;return[e("span",S,s((u=m.value)==null?void 0:u.name[0].toUpperCase()),1)]}),_:1},8,["color"])),e("div",null,[e("h1",W,s((n=m.value)==null?void 0:n.name),1),t[0]||(t[0]=e("p",{class:"text-gray-400"},"Welcome back!",-1))])]}),_:1})]),_:1}),a(x,null,{default:o(()=>[a(f,{cols:"4"},{default:o(()=>[a(j,null,{title:o(()=>t[1]||(t[1]=[p("RemainQuota: AI")])),default:o(()=>[a(b,null,{default:o(()=>{var r;return[(_(!0),k(R,null,U((r=w.value)==null?void 0:r.ai,n=>(_(),k("div",{key:n.name},[p(s(n.name)+" ",1),a(g,{color:$(n.remaining_amount,n.maximum_amount),height:"8","model-value":n.remaining_amount/n.maximum_amount*100,rounded:"lg",striped:""},null,8,["color","model-value"]),e("div",G,[e("span",{class:I(["font-weight-medium",A(n.remaining_amount,n.maximum_amount)])},s(n.remaining_amount),3),e("span",H,s(n.maximum_amount)+" total ",1)])]))),128))]}),_:1})]),_:1})]),_:1}),a(f,{cols:"4"},{default:o(()=>[a(j,null,{title:o(()=>t[2]||(t[2]=[p("All")])),default:o(()=>[a(b,null,{default:o(()=>{var r,n,u,v,N;return[e("div",null,[e("p",null," Last Execution "+s((r=i.value)!=null&&r.last_execution_datetime?z(B).format(i.value.last_execution_datetime,"keyboardDateTime24h"):"Never"),1)]),e("div",null,[t[3]||(t[3]=p(" Total Executions ")),a(g,{color:"green-darken-3",height:"8","model-value":"100",rounded:"lg",striped:""}),e("div",J,[e("span",K,s((n=i.value)==null?void 0:n.total_count),1),e("span",O,s((u=i.value)==null?void 0:u.total_count)+" total ",1)])]),e("div",null,[t[4]||(t[4]=p(" Recent Activities ")),a(g,{color:"green-darken-3",height:"8","model-value":"100",rounded:"lg",striped:""}),e("div",P,[e("span",X,s((v=i.value)==null?void 0:v.total_count),1),e("span",Y,s((N=i.value)==null?void 0:N.nearest_execution_datetimes.length)+" total ",1)])])]}),_:1})]),_:1})]),_:1})]),_:1}),a(x,null,{default:o(()=>[a(f,{cols:"12"},{default:o(()=>[a(D)]),_:1})]),_:1})])}}});export{ne as default};
