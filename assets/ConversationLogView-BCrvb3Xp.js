import{d as m,u as y,r as b,o as h,c as i,f as p,a as r,h as l,F as j,j as w,t as e,n as C}from"./index-DlJvQplD.js";const S={key:0},T=["value"],c={class:"tab"},I={class:"tab-title"},L=["onClick"],x=["data-tablink"],B={class:"tab-inner-wrap"},J={key:0,class:"tab-inner"},N=["href"],V=["value"],$=["value"],O=m({__name:"ConversationLogView",props:{conversation_log_id:{}},setup(v){const _=v,{axios:g}=y(),d=b(1),a=b();h(async()=>{a.value=await g.value.get(`/conversation_logs/${_.conversation_log_id}`).then(({data:s})=>{if(s.data.log==null)return null;const t={...s.data.log};for(let u of t.chats){const o=u.input.substring(17,u.input.length-17-1);u.json_input=JSON.parse(o)}return t})});function k(s){return s.system_instruction.join(`
`)}function f(s){d.value=s}function n(){return a.value.chats[d.value]}return(s,t)=>a.value?(r(),i("div",S,[t[11]||(t[11]=l("label",null,"System Instructions",-1)),l("textarea",{value:k(a.value),style:{width:"100%",height:"40vh"}},null,8,T),t[12]||(t[12]=l("label",null,"Jobs",-1)),l("div",c,[l("ul",I,[(r(!0),i(j,null,w(a.value.chats,(u,o)=>(r(),i("li",{class:C({active:d.value==o}),onClick:E=>f(o)},[l("a",{href:"javascript:;","data-tablink":`tab-${o}`},"Job "+e(o+1),9,x)],10,L))),256))]),l("div",B,[a.value.chats.length>0?(r(),i("div",J,[l("a",{href:n().json_input.link,target:"_blank"},"Link",8,N),t[0]||(t[0]=l("br",null,null,-1)),l("label",null,"Title "+e(n().json_input.title),1),t[1]||(t[1]=l("br",null,null,-1)),l("label",null,"Location "+e(n().json_input.location),1),t[2]||(t[2]=l("br",null,null,-1)),l("label",null,"Salary "+e(n().json_input.salary),1),t[3]||(t[3]=l("br",null,null,-1)),l("label",null,"WorkType "+e(n().json_input.work_type),1),t[4]||(t[4]=l("br",null,null,-1)),l("textarea",{value:n().json_input.details,style:{width:"100%",height:"20vh"}},null,8,V),t[5]||(t[5]=l("br",null,null,-1)),t[6]||(t[6]=l("br",null,null,-1)),l("label",null,"Started at "+e(n().start_datetime),1),t[7]||(t[7]=l("br",null,null,-1)),l("label",null,"Ended at "+e(n().end_datetime),1),t[8]||(t[8]=l("br",null,null,-1)),l("label",null,"Input Token "+e(n().input_token),1),t[9]||(t[9]=l("br",null,null,-1)),l("label",null,"Output Token "+e(n().output_token),1),t[10]||(t[10]=l("br",null,null,-1)),l("textarea",{value:n().output,style:{width:"100%",height:"40vh"}},null,8,$)])):p("",!0)])])])):p("",!0)}});export{O as default};
