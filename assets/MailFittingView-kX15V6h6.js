import{d as T,k as u,c,b as a,e as i,f as l,w as n,r as o,j as $,t as x,F as y,n as C,o as r,g as B}from"./index-DszUUmPU.js";const z={class:"d-flex flex-row"},A={style:{"overflow-y":"auto",height:"100%"}},D=["href"],M=T({__name:"MailFittingView",props:{thread_id:{}},setup(U){const j=$("apiClient"),w=U,d=u(0),m=u(!1),p=u(""),_=u(""),b=u();async function F(V){m.value=!0;const e=await j.client.post(`/mails/fitting_by_ai/${V}`,{restriction:p.value,resume:_.value}).then(s=>s).catch(s=>s).finally(()=>m.value=!1);b.value=e.data.result}return(V,e)=>{const s=o("v-chip"),f=o("v-textarea"),k=o("v-btn"),g=o("v-tooltip"),I=o("v-tab"),N=o("v-tabs"),J=o("v-tabs-window-item"),L=o("v-tabs-window"),R=o("v-card");return r(),c("div",null,[e[7]||(e[7]=a("label",null,"Thread",-1)),e[8]||(e[8]=i()),l(s,{size:"small"},{default:n(()=>[i(x(w.thread_id),1)]),_:1}),l(f,{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=t=>p.value=t),label:"Restriction",rows:"5"},null,8,["modelValue"]),l(f,{modelValue:_.value,"onUpdate:modelValue":e[1]||(e[1]=t=>_.value=t),label:"Resume",rows:"15"},null,8,["modelValue"]),l(k,{onClick:e[2]||(e[2]=t=>F(w.thread_id)),"prepend-icon":"mdi-brain",disabled:m.value},{default:n(()=>e[5]||(e[5]=[i("AI Invoke")])),_:1},8,["disabled"]),e[9]||(e[9]=a("br",null,null,-1)),e[10]||(e[10]=a("br",null,null,-1)),e[11]||(e[11]=a("hr",null,null,-1)),l(R,null,{default:n(()=>[l(g,{title:"Jobs"}),a("div",z,[l(N,{modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=t=>d.value=t),direction:"vertical"},{default:n(()=>[(r(!0),c(y,null,C(b.value,(t,v)=>(r(),B(I,{"prepend-icon":"mdi-briefcase",value:v},{default:n(()=>[i("Job "+x(v+1),1)]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"]),l(L,{modelValue:d.value,"onUpdate:modelValue":e[4]||(e[4]=t=>d.value=t),class:"flex-grow-1"},{default:n(()=>[(r(!0),c(y,null,C(b.value,(t,v)=>(r(),B(J,{value:v},{default:n(()=>[a("div",A,[l(k,null,{default:n(()=>[a("a",{href:t.link,target:"_blank"},"Link",8,D),l(g,{activator:"parent",location:"bottom"},{default:n(()=>e[6]||(e[6]=[i("Open job in another tab")])),_:1})]),_:2},1024),l(f,{value:t.response,rows:"15"},null,8,["value"])])]),_:2},1032,["value"]))),256))]),_:1},8,["modelValue"])])]),_:1})])}}});export{M as default};
